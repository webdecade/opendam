<?php


/**
 * Skeleton subclass for performing query and update operations on the 'basket_request' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.2 on:
 *
 * jeu. 11 oct. 2012 11:35:23 CEST
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class BasketRequestPeer extends BaseBasketRequestPeer 
{
	/*________________________________________________________________________________________________________________*/
	public static function retrieveByBasketId($basket_id, $pending_validation = true)
	{
		$c = new Criteria();

		$c->add(self::BASKET_ID, $basket_id);

		if ($pending_validation) {
			$c->add(self::USER_ID, null);
		}

		return self::doSelect($c);
	}

	/*________________________________________________________________________________________________________________*/
	public static function getCountRequest($customer_id)
	{
		$c = new Criteria();

		$c->addJoin(self::BASKET_ID, BasketPeer::ID);
		$c->addJoin(BasketPeer::USER_ID, UserPeer::ID);
		$c->add(UserPeer::CUSTOMER_ID, $customer_id);
		$c->add(self::USER_ID, null);

		return self::doCount($c);
	}
}
