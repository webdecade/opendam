<?php


/**
 * Skeleton subclass for performing query and update operations on the 'constraint' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.2 on:
 *
 * Wed Nov 16 10:48:27 2011
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class ConstraintPeer extends BaseConstraintPeer 
{
	const __PERMALINK_FOLDER = 1;
	const __PERMALINK_FILE = 2;
	const __SUB_FOLDER = 4;
	const __UPDATE_FILE_FOLDER = 5;
	const __UPDATE_GROUP = 6;
	const __EVENT_GROUP = 7;
	const __ASSIGN_OWNER_WITHOUT_APPROBATION = 8;
	const __ASSIGN_OWNER_WITH_APPROBATION = 9;
	const __DOWNLOAD = 11;
	const __PRINT = 12;
	const __COMMENT = 13;
	const __RATE = 14;
	const __SHARE = 15;
	const __USER = 16;
	const __UPDATE = 17;
	const __IMPORT = 18;

	/*________________________________________________________________________________________________________________*/
	public static function initConstraint($groupe_id)
	{
		$constraints = self::doSelect(new Criteria());

		foreach($constraints as $constraint)
		{
			$groupe_constraint = new GroupeConstraint();
			$groupe_constraint->setGroupeId($groupe_id);
			$groupe_constraint->setConstraintId($constraint->getId());

			$groupe_constraint->save();
		}
	}

	/*________________________________________________________________________________________________________________*/
	public static function retrieveByRoleId($role = null)
	{
		$c = new Criteria();
		$c->add(self::ROLE_ID, $role);

		return self::doSelectWithI18n($c);
	}
}
