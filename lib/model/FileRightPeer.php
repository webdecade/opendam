<?php


/**
 * Skeleton subclass for performing query and update operations on the 'file_right' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.2 on:
 *
 * Mon Jul  4 18:10:24 2011
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class FileRightPeer extends BaseFileRightPeer 
{
	const __TYPE_ALBUM = 1;
	const __TYPE_FOLDER = 2;
	const __TYPE_FILE = 3;
	const __TYPE_PRESET = 4;

	/*________________________________________________________________________________________________________________*/
	public static function retrieveByType($id, $type)
	{
		$c = new Criteria();
		
		$c->add(self::OBJECT_ID, $id);
		$c->add(self::TYPE, $type);

		return self::doSelect($c);
	}

	/*________________________________________________________________________________________________________________*/
	public static function retrieveByTypeAndLimitation($id, $type, $usage_limitation_id)
	{
		$c = new Criteria();
		
		$c->add(self::OBJECT_ID, $id);
		$c->add(self::TYPE, $type);
		$c->add(self::USAGE_LIMITATION_ID, $usage_limitation_id);

		return self::doSelectOne($c);
	}

	/*________________________________________________________________________________________________________________*/
	public static function deleteByType($id, $type)
	{
		$c = new Criteria();
		
		$c->add(self::OBJECT_ID, $id);
		$c->add(self::TYPE, $type);

		return self::doDelete($c);
	}
	
	/*________________________________________________________________________________________________________________*/
	public static function deleteByTypeAndLimitation($id, $type, $usage_limitation_id)
	{
		$c = new Criteria();
	
		$c->add(self::OBJECT_ID, $id);
		$c->add(self::TYPE, $type);
		$c->add(self::USAGE_LIMITATION_ID, $usage_limitation_id);
	
		return self::doDelete($c);
	}
}
