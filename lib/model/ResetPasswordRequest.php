<?php


/**
 * Skeleton subclass for representing a row from the 'reset_password_request' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.2 on:
 *
 * Tue Oct  1 17:54:46 2013
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class ResetPasswordRequest extends BaseResetPasswordRequest
{
	/*________________________________________________________________________________________________________________*/
	/**
	 * Renvoie une nouvelle instance de ResetPasswordRequest avec le champ sauvegardÃ© en base.
	 * 
	 * @param User $user
	 * @return ResetPasswordRequest
	 */
	public static function newInstance(User $user)
	{
		$token = base64_encode(uniqid($user->getId()));

		$request = new ResetPasswordRequest();
		
		$request->setUser($user);
		$request->setToken($token);
		
		$request->save();
		
		return $request;
	}
}
